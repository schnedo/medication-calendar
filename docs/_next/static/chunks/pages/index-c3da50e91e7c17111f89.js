_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"/EDR":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("23aj")}])},"23aj":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return qe}));var a=n("nKUr"),i=n("rePB"),r=n("o0o1"),o=n.n(r),c=n("HaE+"),l=n("q1tI"),s=n("R/WZ"),d=n("VD++"),u=n("wx14"),b=n("Ff2n"),p=(n("17x9"),n("iuhU")),m=n("kKAo"),h=n("H2TA"),f=l.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.raised,r=void 0!==i&&i,o=Object(b.a)(e,["classes","className","raised"]);return l.createElement(m.a,Object(u.a)({className:Object(p.default)(n.root,a),elevation:r?8:1,ref:t},o))})),j=Object(h.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(f),v=l.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.component,r=void 0===i?"div":i,o=Object(b.a)(e,["classes","className","component"]);return l.createElement(r,Object(u.a)({className:Object(p.default)(n.root,a),ref:t},o))})),O=Object(h.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(v),g=n("hlFM"),x=n("ofer");function y(e){return"".concat("Ch.-B."," ").concat(e.number)}function k(e){return"".concat(e.amount," ").concat("ml")}function w(e){if(void 0===e)return"00";var t=e.toString();return 1===t.length?"0".concat(t):t}function C(e){return"".concat(w(e.hours),":").concat(w(e.minutes))}var S=Object(s.a)((function(e){return{row:{display:"flex",justifyContent:"space-between"},content:{flex:"1"},trailer:{marginLeft:e.spacing(1)},container:{width:"100%",textAlign:"justify"}}}));function E(e){var t=e.medication,n=t.medicament,i=n.name,r=n.batchNumber,o=t.dose,c=e.onClick,l=S(),s=l.row,u=l.content,b=l.trailer,p=l.container;return Object(a.jsx)(d.a,{onClick:c,disableRipple:!c,className:p,children:Object(a.jsx)(j,{className:p,children:Object(a.jsxs)(O,{className:s,children:[Object(a.jsxs)(g.a,{className:u,children:[Object(a.jsx)(x.a,{children:i}),Object(a.jsx)(x.a,{color:"textSecondary",children:y(r)})]}),Object(a.jsx)(x.a,{className:b,children:k(o)})]})})})}var N=n("sWYD"),D=n("TIQQ"),B=Object(s.a)((function(e){return{container:{width:"100%"},header:{marginRight:e.spacing(1)},trailer:{marginLeft:e.spacing(1),display:"flex",flexDirection:"column",justifyContent:"space-between"},row:{display:"flex"},medicationsList:{flex:"1",display:"flex",flexDirection:"column",justifyContent:"space-between","&>*":{marginBottom:e.spacing(1),"&:last-child":{marginBottom:0}}}}}));function M(e){var t=e.medicationEntry,n=t.date,i=t.medications,r=t.comments,o=t.duration,c=t.bodyMass,l=e.onClick,s=B(),u=s.container,b=s.medicationsList,p=s.row,m=s.header,h=s.trailer;return Object(a.jsx)(d.a,{onClick:l,className:u,disableRipple:!l,children:Object(a.jsx)(j,{className:u,children:Object(a.jsxs)(O,{className:p,children:[Object(a.jsx)(x.a,{className:m,children:Object(N.a)(n,"EEEEEE dd")}),Object(a.jsxs)(g.a,{className:b,children:[i.map((function(e){return Object(a.jsx)(E,{medication:e},e.id)})),Object(a.jsx)(x.a,{align:"left",children:r})]}),Object(a.jsxs)(g.a,{className:h,children:[Object(a.jsx)(x.a,{children:C(o)}),Object(a.jsx)(x.a,{children:Object(D.g)(c)})]})]})})})}var P=n("ODXe"),W=n("KQm4"),R=n("NqtD"),I=44,T=l.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.color,r=void 0===i?"primary":i,o=e.disableShrink,c=void 0!==o&&o,s=e.size,d=void 0===s?40:s,m=e.style,h=e.thickness,f=void 0===h?3.6:h,j=e.value,v=void 0===j?0:j,O=e.variant,g=void 0===O?"indeterminate":O,x=Object(b.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),y={},k={},w={};if("determinate"===g||"static"===g){var C=2*Math.PI*((I-f)/2);y.strokeDasharray=C.toFixed(3),w["aria-valuenow"]=Math.round(v),y.strokeDashoffset="".concat(((100-v)/100*C).toFixed(3),"px"),k.transform="rotate(-90deg)"}return l.createElement("div",Object(u.a)({className:Object(p.default)(n.root,a,"inherit"!==r&&n["color".concat(Object(R.a)(r))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[g]),style:Object(u.a)({width:d,height:d},k,m),ref:t,role:"progressbar"},w,x),l.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(I," ").concat(I)},l.createElement("circle",{className:Object(p.default)(n.circle,c&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[g]),style:y,cx:I,cy:I,r:(I-f)/2,fill:"none",strokeWidth:f})))})),A=Object(h.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(T),z=n("eD//"),L=l.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.color,r=void 0===i?"default":i,o=e.component,c=void 0===o?"li":o,s=e.disableGutters,d=void 0!==s&&s,m=e.disableSticky,h=void 0!==m&&m,f=e.inset,j=void 0!==f&&f,v=Object(b.a)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return l.createElement(c,Object(u.a)({className:Object(p.default)(n.root,a,"default"!==r&&n["color".concat(Object(R.a)(r))],j&&n.inset,!h&&n.sticky,!d&&n.gutters),ref:t},v))})),F=Object(h.a)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(L),X=n("tVbE"),H=n("9ig3"),K=function(e,t){var n,a=Object(H.a)(t.date).valueOf();return e.set(a,[].concat(Object(W.a)(null!==(n=e.get(a))&&void 0!==n?n:[]),[t])),e};function V(e){var t=e.medicationEntries,n=e.onSelect,i=function(e){var t=e.reduce(K,new Map);return Array.from(t.entries()).sort((function(e,t){var n=Object(P.a)(e,1)[0];return Object(P.a)(t,1)[0]-n}))}(null!==t&&void 0!==t?t:[]);return null===t?Object(a.jsx)(A,{}):Object(a.jsx)(z.a,{children:i.map((function(e){var t=Object(P.a)(e,2),i=t[0],r=t[1];return Object(a.jsxs)(l.Fragment,{children:[Object(a.jsx)(F,{children:Object(N.a)(i,"MMMM y")}),r.map((function(e){return Object(a.jsx)(X.a,{children:Object(a.jsx)(M,{medicationEntry:e,onClick:function(t){var a=t.clientX,i=t.clientY;n({medicationEntry:e,pointerPosition:{clientX:a,clientY:i}})}})},e.id)}))]},i)}))})}var $=n("I69v"),Y=n("Xt1q"),_=n("+Isj"),G=n("kKU3"),J=n("wpWl"),q={enter:J.b.enteringScreen,exit:J.b.leavingScreen},U=l.forwardRef((function(e,t){var n=e.BackdropProps,a=e.children,i=e.classes,r=e.className,o=e.disableBackdropClick,c=void 0!==o&&o,s=e.disableEscapeKeyDown,d=void 0!==s&&s,h=e.fullScreen,f=void 0!==h&&h,j=e.fullWidth,v=void 0!==j&&j,O=e.maxWidth,g=void 0===O?"sm":O,x=e.onBackdropClick,y=e.onClose,k=e.onEnter,w=e.onEntered,C=e.onEntering,S=e.onEscapeKeyDown,E=e.onExit,N=e.onExited,D=e.onExiting,B=e.open,M=e.PaperComponent,P=void 0===M?m.a:M,W=e.PaperProps,I=void 0===W?{}:W,T=e.scroll,A=void 0===T?"paper":T,z=e.TransitionComponent,L=void 0===z?G.a:z,F=e.transitionDuration,X=void 0===F?q:F,H=e.TransitionProps,K=e["aria-describedby"],V=e["aria-labelledby"],$=Object(b.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),J=l.useRef();return l.createElement(Y.a,Object(u.a)({className:Object(p.default)(i.root,r),BackdropComponent:_.a,BackdropProps:Object(u.a)({transitionDuration:X},n),closeAfterTransition:!0},c?{disableBackdropClick:c}:{},{disableEscapeKeyDown:d,onEscapeKeyDown:S,onClose:y,open:B,ref:t},$),l.createElement(L,Object(u.a)({appear:!0,in:B,timeout:X,onEnter:k,onEntering:C,onEntered:w,onExit:E,onExiting:D,onExited:N,role:"none presentation"},H),l.createElement("div",{className:Object(p.default)(i.container,i["scroll".concat(Object(R.a)(A))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===J.current&&(J.current=null,x&&x(e),!c&&y&&y(e,"backdropClick"))},onMouseDown:function(e){J.current=e.target}},l.createElement(P,Object(u.a)({elevation:24,role:"dialog","aria-describedby":K,"aria-labelledby":V},I,{className:Object(p.default)(i.paper,i["paperScroll".concat(Object(R.a)(A))],i["paperWidth".concat(Object(R.a)(String(g)))],I.className,f&&i.paperFullScreen,v&&i.paperFullWidth)}),a))))})),Q=Object(h.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(i.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(U),Z=l.forwardRef((function(e,t){var n=e.children,a=e.classes,i=e.className,r=e.disableTypography,o=void 0!==r&&r,c=Object(b.a)(e,["children","classes","className","disableTypography"]);return l.createElement("div",Object(u.a)({className:Object(p.default)(a.root,i),ref:t},c),o?n:l.createElement(x.a,{component:"h2",variant:"h6"},n))})),ee=Object(h.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(Z),te=l.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.dividers,r=void 0!==i&&i,o=Object(b.a)(e,["classes","className","dividers"]);return l.createElement("div",Object(u.a)({className:Object(p.default)(n.root,a,r&&n.dividers),ref:t},o))})),ne=Object(h.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(te),ae=n("r9w1"),ie=l.forwardRef((function(e,t){var n=e.disableSpacing,a=void 0!==n&&n,i=e.classes,r=e.className,o=Object(b.a)(e,["disableSpacing","classes","className"]);return l.createElement("div",Object(u.a)({className:Object(p.default)(i.root,r,!a&&i.spacing),ref:t},o))})),re=Object(h.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(ie),oe=n("Z3vd"),ce=n("Glqu"),le=l.forwardRef((function(e,t){var n,a=e.classes,i=e.className,r=e.component,o=void 0===r?"li":r,c=e.disableGutters,s=void 0!==c&&c,d=e.ListItemClasses,m=e.role,h=void 0===m?"menuitem":m,f=e.selected,j=e.tabIndex,v=Object(b.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==j?j:-1),l.createElement(X.a,Object(u.a)({button:!0,role:h,tabIndex:n,component:o,selected:f,disableGutters:s,classes:Object(u.a)({dense:a.dense},d),className:Object(p.default)(a.root,i,f&&a.selected,!s&&a.gutters),ref:t},v))})),se=Object(h.a)((function(e){return{root:Object(u.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(u.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(le),de=n("ADg1"),ue=n("1AYd"),be=n("cVXz"),pe=function(e){return Object(a.jsx)(se,{value:e,children:e},e)},me=Object(s.a)((function(e){return{durationSelect:{display:"flex","&>*":{marginRight:e.spacing(1),"&:last-child":{marginRight:e.spacing(0)}}}}}));function he(e){var t,n=e.value,i=e.label,r=e.max,o=e.onChange,c="".concat(i,"-label");return Object(a.jsxs)(de.a,{children:[Object(a.jsx)(ue.a,{id:c,children:i}),Object(a.jsx)(be.a,{labelId:c,value:n.toString(),onChange:function(e){return o(parseInt(e.target.value))},children:(t=r,Object(W.a)(Array(t).keys())).map(pe)})]})}function fe(e){var t=e.value,n=t.minutes,i=t.hours,r=e.onChange,o=me().durationSelect;return Object(a.jsxs)(g.a,{className:o,children:[Object(a.jsx)(he,{label:"h",value:null!==i&&void 0!==i?i:0,max:23,onChange:function(e){r({minutes:n,hours:e})}}),Object(a.jsx)(he,{value:null!==n&&void 0!==n?n:0,label:"min",max:59,onChange:function(e){r({minutes:e,hours:i})}})]})}var je=l.forwardRef((function(e,t){return l.createElement(x.a,Object(u.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))})),ve=Object(h.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(je),Oe=n("PsDL"),ge=n("gd/W"),xe=n("c0z5"),ye=Object(xe.createSvgIcon)(l.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),ke=n("KJax"),we=n("7Cbv"),Ce=Object(s.a)((function(e){return{formGroup:{"&>*":{marginTop:e.spacing(1),"&:first-child":{marginTop:"0"}}}}}));function Se(e,t){var n=!!e;return t(n),n}function Ee(e){var t,n,i,r,s=e.open,d=e.medication,u=e.onClose,b=e.onSubmit,p=e.onAbort,m=Object(l.useRef)(null!==(t=null===d||void 0===d?void 0:d.id)&&void 0!==t?t:Object(we.a)()),h=Object(l.useState)(null!==(n=null===d||void 0===d?void 0:d.dose.amount.toString())&&void 0!==n?n:""),f=h[0],j=h[1],v=Object(l.useState)(!0),O=v[0],g=v[1],x=Object(l.useState)(null!==(i=null===d||void 0===d?void 0:d.medicament.name)&&void 0!==i?i:""),y=x[0],k=x[1],w=Object(l.useState)(!0),C=w[0],S=w[1],E=Object(l.useState)(null!==(r=null===d||void 0===d?void 0:d.medicament.batchNumber.number.toString())&&void 0!==r?r:""),N=E[0],D=E[1],B=Object(l.useState)(!0),M=B[0],P=B[1];Object(l.useEffect)((function(){var e,t,n,a;s&&(m.current=null!==(e=null===d||void 0===d?void 0:d.id)&&void 0!==e?e:Object(we.a)(),j(null!==(t=null===d||void 0===d?void 0:d.dose.amount.toString())&&void 0!==t?t:""),g(!0),k(null!==(n=null===d||void 0===d?void 0:d.medicament.name)&&void 0!==n?n:""),S(!0),D(null!==(a=null===d||void 0===d?void 0:d.medicament.batchNumber.number.toString())&&void 0!==a?a:""),P(!0))}),[s,d]);var W=b?Object(c.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Se(f,g),n=Se(y,S),a=Se(N,P),!(t&&n&&a)){e.next=6;break}return e.next=6,b({id:m.current,medicament:{name:y,batchNumber:{number:parseInt(N)}},dose:{amount:parseInt(f)}});case 6:case"end":return e.stop()}}),e)}))):void 0,R=Ce().formGroup;return Object(a.jsxs)(Q,{open:s,onClose:function(e,t){u&&u(e,t)},children:[Object(a.jsx)(ee,{children:"Neue Medikation"}),Object(a.jsx)(ne,{children:Object(a.jsxs)(ke.a,{className:R,children:[Object(a.jsx)(ae.a,{id:"nameInput",label:"Name",value:y,onChange:function(e){var t=e.target.value;return k(t)},onBlur:function(e){return Se(e.target.value,S)},onFocus:function(){return S(!0)},error:!C,helperText:!C&&"Bitte Name eingeben",variant:"outlined"}),Object(a.jsx)(ae.a,{id:"batchNumberInput",label:"Chargenbezeichnung",type:"number",value:N,onChange:function(e){var t=e.target.value;return D(t)},onBlur:function(e){return Se(e.target.value,P)},onFocus:function(){return P(!0)},error:!M,helperText:!M&&"Bitte Chargenbezeichnung eingeben",variant:"outlined"}),Object(a.jsx)(ae.a,{id:"doseInput",label:"Dosis",type:"number",value:f,onChange:function(e){var t=e.target.value;return j(t)},onBlur:function(e){return Se(e.target.value,g)},onFocus:function(){return g(!0)},error:!O,helperText:!O&&"Bitte Dosis eingeben",variant:"outlined"})]})}),Object(a.jsxs)(re,{children:[Object(a.jsx)(oe.a,{color:"primary",onClick:function(){p&&p()},children:"Abbrechen"}),Object(a.jsx)(oe.a,{color:"primary",onClick:W,children:"Speichern"})]})]})}var Ne=Object(s.a)((function(){return{medicationsAddContainer:{display:"flex",justifyContent:"space-between"}}}));function De(e){var t=e.value,n=e.onChange,i=Object(l.useState)(null),r=i[0],s=i[1],d=function(){return s(null)},u=Object(l.useState)(!1),b=u[0],p=u[1],m=function(){return p(!0)},h=function(){p(!1),d()},f=function(){return h()},j=function(){var e=Object(c.a)(o.a.mark((function e(a){var i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&(i=t.findIndex((function(e){return e.id===a.id})),r=-1===i?[].concat(Object(W.a)(t),[a]):[].concat(Object(W.a)(t.slice(0,i)),[a],Object(W.a)(t.slice(i+1))),n(r)),h();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Ne().medicationsAddContainer;return Object(a.jsxs)(g.a,{children:[Object(a.jsx)(ve,{children:"Eintr\xe4ge"}),t.map((function(e){return Object(a.jsx)(E,{medication:e,onClick:function(t){var n=t.clientX,a=t.clientY;return s({medication:e,pointerPosition:{clientX:n,clientY:a}})}},e.id)})),Object(a.jsxs)(g.a,{className:v,children:[Object(a.jsx)("div",{}),Object(a.jsx)(Oe.a,{onClick:function(){d(),m()},children:Object(a.jsx)(ye,{})})]}),Object(a.jsxs)(ge.a,{open:!!r,onClose:d,anchorReference:"anchorPosition",anchorPosition:r?{top:r.pointerPosition.clientY,left:r.pointerPosition.clientX}:void 0,children:[Object(a.jsx)(se,{onClick:function(){return m()},children:"Bearbeiten"}),Object(a.jsx)(se,{onClick:function(){n&&r&&n(t.filter((function(e){return e!=r.medication}))),d()},children:"L\xf6schen"})]}),Object(a.jsx)(Ee,{open:b,medication:null===r||void 0===r?void 0:r.medication,onClose:f,onAbort:f,onSubmit:j})]})}var Be=Object(s.a)((function(e){return{dialogContent:{display:"flex",flexDirection:"column","&>*":{marginBottom:e.spacing(2),"&:last-child":{marginBottom:e.spacing(0)}}}}})),Me=function(){return new Date},Pe={minutes:0,hours:0},We=[];function Re(e){var t,n,i,r,s,d,u,b=e.open,p=e.medicationEntry,m=e.onClose,h=e.onSubmit,f=e.onAbort,j=Object(D.j)().user.bodyMass,v=Object(l.useRef)(null!==(t=null===p||void 0===p?void 0:p.id)&&void 0!==t?t:""),O=Object(l.useState)(null!==(n=null===p||void 0===p?void 0:p.date)&&void 0!==n?n:Me()),g=O[0],x=O[1],y=Object(l.useState)(null!==(i=null===p||void 0===p?void 0:p.duration)&&void 0!==i?i:Pe),k=y[0],w=y[1],C=Object(l.useState)(null!==(r=null!==(s=null===p||void 0===p?void 0:p.bodyMass.amount.toString())&&void 0!==s?s:null===j||void 0===j?void 0:j.amount.toString())&&void 0!==r?r:"60"),S=C[0],E=C[1],N=Object(l.useState)(null!==(d=null===p||void 0===p?void 0:p.comments)&&void 0!==d?d:""),B=N[0],M=N[1],P=Object(l.useState)(null!==(u=null===p||void 0===p?void 0:p.medications)&&void 0!==u?u:We),W=P[0],R=P[1];Object(l.useEffect)((function(){var e,t,n,a,i,r,o;b&&(x(null!==(e=null===p||void 0===p?void 0:p.date)&&void 0!==e?e:Me()),w(null!==(t=null===p||void 0===p?void 0:p.duration)&&void 0!==t?t:Pe),E(null!==(n=null!==(a=null===p||void 0===p?void 0:p.bodyMass.amount.toString())&&void 0!==a?a:null===j||void 0===j?void 0:j.amount.toString())&&void 0!==n?n:"60"),M(null!==(i=null===p||void 0===p?void 0:p.comments)&&void 0!==i?i:""),R(null!==(r=null===p||void 0===p?void 0:p.medications)&&void 0!==r?r:We),v.current=null!==(o=null===p||void 0===p?void 0:p.id)&&void 0!==o?o:"")}),[j,p,b]);var I=h?Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({id:v.current,date:g,duration:k,bodyMass:{amount:parseInt(S)},comments:B,medications:W});case 2:case"end":return e.stop()}}),e)}))):void 0,T=Be().dialogContent;return Object(a.jsxs)(Q,{open:b,onClose:m,children:[Object(a.jsx)(ee,{children:p?"Eintrag bearbeiten":"Neuer Eintrag"}),Object(a.jsxs)(ne,{className:T,children:[Object(a.jsx)(ae.a,{id:"bodyMassInput",label:"K\xf6rpergewicht",type:"number",value:S,onChange:function(e){return E(e.target.value)}}),Object(a.jsx)(ce.a,{id:"dateInput",label:"Datum",value:g,onChange:function(e){return x(null!==e&&void 0!==e?e:g)}}),Object(a.jsx)(fe,{value:k,onChange:w}),Object(a.jsx)(ae.a,{id:"commentsInput",label:"Kommentare",multiline:!0,value:B,onChange:function(e){return M(e.target.value)}}),Object(a.jsx)(De,{value:W,onChange:R})]}),Object(a.jsxs)(re,{children:[Object(a.jsx)(oe.a,{color:"primary",onClick:f,children:"Abbrechen"}),Object(a.jsx)(oe.a,{color:"primary",onClick:I,children:"Speichern"})]})]})}var Ie=n("Ji2X"),Te=l.forwardRef((function(e,t){var n=e.children,a=e.classes,i=e.className,r=e.color,o=void 0===r?"default":r,c=e.component,s=void 0===c?"button":c,m=e.disabled,h=void 0!==m&&m,f=e.disableFocusRipple,j=void 0!==f&&f,v=e.focusVisibleClassName,O=e.size,g=void 0===O?"large":O,x=e.variant,y=void 0===x?"circular":x,k=Object(b.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return l.createElement(d.a,Object(u.a)({className:Object(p.default)(a.root,i,"large"!==g&&a["size".concat(Object(R.a)(g))],h&&a.disabled,"extended"===y&&a.extended,{primary:a.primary,secondary:a.secondary,inherit:a.colorInherit}[o]),component:s,disabled:h,focusRipple:!j,focusVisibleClassName:Object(p.default)(a.focusVisible,v),ref:t},k),l.createElement("span",{className:a.label},n))})),Ae=Object(h.a)((function(e){return{root:Object(u.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(Te),ze=Object(xe.createSvgIcon)(l.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print"),Le=n("5JmO"),Fe=n("TruH");Le.vfs=Fe.pdfMake.vfs;var Xe={myLayout:{hLineWidth:function(e,t){return 0===e||e===t.table.body.length?0:e===t.table.headerRows?2:1},vLineWidth:function(e,t){var n;return 0===e||e===(null===(n=t.table.widths)||void 0===n?void 0:n.length)?0:1},paddingLeft:function(){return 8},paddingRight:function(){return 8}}},He=function(e){var t=e.medicament,n=t.name,a=t.batchNumber,i=e.dose;return"".concat(n," / ").concat(y(a),": ").concat(k(i))},Ke=function(e){return e.map(He).join("\n")},Ve=function(e){var t=e.date,n=e.medications,a=e.duration,i=e.bodyMass,r=e.comments;return[Object(N.a)(t,"LLL d y"),Ke(n),C(a),Object(D.g)(i),r]};var $e=n("dndX");function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=function(e,t,n){return e.filter((function(e){var a=e.date;return function(e,t,n){return Object($e.a)(n,t)&&Object($e.a)(e,n)}(t,n,a)})).sort((function(e,t){var n=e.date;return t.date.valueOf()-n.valueOf()}))},Je=Object(s.a)((function(e){return{actionButton:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},printForm:{"&>*":{marginTop:e.spacing(1),"&:first-child":{marginTop:0}}}}}));function qe(e){var t=e.AppBar,n=Object($.b)(),i=n.entries,r=n.deleteEntry,s=n.saveEntry,d=Object(l.useState)(null),u=d[0],b=d[1],p=Object(l.useState)(!1),m=p[0],h=p[1],f=function(){return h(!0)},j=function(){return b(null)},v=function(){h(!1),j()},O=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:v();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=4;break}return e.next=3,r(u.medicationEntry);case 3:j();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=Object(l.useState)(!1),k=y[0],w=y[1],C=Object(l.useState)({start:Object(H.a)(new Date),end:new Date}),S=C[0],E=C[1],N=i?{icon:ze,ariaLabel:"print",onClick:function(){w(!0)}}:void 0,D=Je(),B=D.actionButton,M=D.printForm;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(t,{title:"Medikamenten Tagebuch",rightButton:N}),Object(a.jsxs)(Q,{open:k,onClose:function(){return w(!1)},children:[Object(a.jsx)(ee,{children:"Drucken"}),Object(a.jsxs)(ne,{children:[Object(a.jsx)(ve,{children:"Bitte w\xe4hlen Sie den Zeitraum aus."}),Object(a.jsxs)(ke.a,{className:M,children:[Object(a.jsx)(ce.a,{label:"Von",value:S.start,onChange:function(e){return e&&E((function(t){return _e(_e({},t),{},{start:e})}))},inputVariant:"outlined"}),Object(a.jsx)(ce.a,{label:"Bis",value:S.end,onChange:function(e){return e&&E((function(t){return _e(_e({},t),{},{end:e})}))},inputVariant:"outlined"})]}),Object(a.jsxs)(re,{children:[Object(a.jsx)(oe.a,{id:"printAbort",onClick:function(){return w(!1)},children:"Abbrechen"}),Object(a.jsx)(oe.a,{id:"printConfirm",onClick:function(){return i&&function(e){var t={content:{layout:"myLayout",table:{headerRows:1,widths:["auto","*","auto","auto","auto"],body:[["Datum","Medikation","Dauer","Gewicht","Kommentare"]].concat(Object(W.a)(e.map(Ve)))}}};return Le.createPdf(t,Xe)}(Ge(i,S.start,S.end)).open()},children:"Drucken"})]})]})]}),Object(a.jsxs)(Ie.a,{component:"main",children:[Object(a.jsx)(V,{medicationEntries:i,onSelect:function(e){return b(e)}}),Object(a.jsx)(Re,{open:m,medicationEntry:null===u||void 0===u?void 0:u.medicationEntry,onClose:v,onAbort:v,onSubmit:O}),Object(a.jsxs)(ge.a,{open:!!u,keepMounted:!0,onClose:j,anchorReference:"anchorPosition",anchorPosition:u?{top:u.pointerPosition.clientY,left:u.pointerPosition.clientX}:void 0,children:[Object(a.jsx)(se,{onClick:x,children:"Bearbeiten"}),Object(a.jsx)(se,{onClick:g,children:"L\xf6schen"})]}),Object(a.jsx)(Ae,{color:"primary","aria-label":"addMedicationEntry",onClick:f,className:B,children:Object(a.jsx)(ye,{})})]})]})}}},[["/EDR",1,2,6,7,0,3,4]]]);