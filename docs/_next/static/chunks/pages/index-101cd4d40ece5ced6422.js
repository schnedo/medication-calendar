_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"/EDR":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("23aj")}])},"23aj":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ve}));var a=n("nKUr"),i=n("rePB"),o=n("o0o1"),r=n.n(o),c=n("HaE+"),l=n("q1tI"),s=n("R/WZ"),u=n("VD++"),d=n("wx14"),b=n("Ff2n"),m=(n("17x9"),n("iuhU")),j=n("kKAo"),h=n("H2TA"),p=l.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.raised,o=void 0!==i&&i,r=Object(b.a)(e,["classes","className","raised"]);return l.createElement(j.a,Object(d.a)({className:Object(m.a)(n.root,a),elevation:o?8:1,ref:t},r))})),f=Object(h.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(p),v=l.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.component,o=void 0===i?"div":i,r=Object(b.a)(e,["classes","className","component"]);return l.createElement(o,Object(d.a)({className:Object(m.a)(n.root,a),ref:t},r))})),O=Object(h.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(v),g=n("hlFM"),x=n("ofer");function y(e){return"".concat("Ch.-B."," ").concat(e.number)}function w(e){return"".concat(e.amount," ").concat("ml")}function C(e){if(void 0===e)return"00";var t=e.toString();return 1===t.length?"0".concat(t):t}function k(e){return"".concat(C(e.hours),":").concat(C(e.minutes))}var S=Object(s.a)((function(e){return{row:{display:"flex",justifyContent:"space-between"},content:{flex:"1"},trailer:{marginLeft:e.spacing(1)},container:{width:"100%",textAlign:"justify"}}}));function N(e){var t=e.medication,n=t.medicament,i=n.name,o=n.batchNumber,r=t.dose,c=e.onClick,l=S(),s=l.row,d=l.content,b=l.trailer,m=l.container;return Object(a.jsx)(u.a,{onClick:c,disableRipple:!c,className:m,children:Object(a.jsx)(f,{className:m,children:Object(a.jsxs)(O,{className:s,children:[Object(a.jsxs)(g.a,{className:d,children:[Object(a.jsx)(x.a,{children:i}),Object(a.jsx)(x.a,{color:"textSecondary",children:y(o)})]}),Object(a.jsx)(x.a,{className:b,children:w(r)})]})})})}var E=n("sWYD"),M=n("TIQQ"),R=Object(s.a)((function(e){return{container:{width:"100%"},header:{marginRight:e.spacing(1)},trailer:{marginLeft:e.spacing(1),display:"flex",flexDirection:"column",justifyContent:"space-between"},row:{display:"flex"},medicationsList:{flex:"1",display:"flex",flexDirection:"column",justifyContent:"space-between","&>*":{marginBottom:e.spacing(1),"&:last-child":{marginBottom:0}}}}}));function D(e){var t=e.medicationEntry,n=t.date,i=t.medications,o=t.comments,r=t.duration,c=t.bodyMass,l=e.onClick,s=R(),d=s.container,b=s.medicationsList,m=s.row,j=s.header,h=s.trailer;return Object(a.jsx)(u.a,{onClick:l,className:d,disableRipple:!l,children:Object(a.jsx)(f,{className:d,children:Object(a.jsxs)(O,{className:m,children:[Object(a.jsx)(x.a,{className:j,children:Object(E.a)(n,"EEEEEE dd")}),Object(a.jsxs)(g.a,{className:b,children:[i.map((function(e){return Object(a.jsx)(N,{medication:e},e.id)})),Object(a.jsx)(x.a,{align:"left",children:o})]}),Object(a.jsxs)(g.a,{className:h,children:[Object(a.jsx)(x.a,{children:k(r)}),Object(a.jsx)(x.a,{children:Object(M.g)(c)})]})]})})})}var I=n("ODXe"),B=n("KQm4"),P=n("iae6"),T=n("eD//"),A=n("NqtD"),L=l.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.color,o=void 0===i?"default":i,r=e.component,c=void 0===r?"li":r,s=e.disableGutters,u=void 0!==s&&s,j=e.disableSticky,h=void 0!==j&&j,p=e.inset,f=void 0!==p&&p,v=Object(b.a)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return l.createElement(c,Object(d.a)({className:Object(m.a)(n.root,a,"default"!==o&&n["color".concat(Object(A.a)(o))],f&&n.inset,!h&&n.sticky,!u&&n.gutters),ref:t},v))})),z=Object(h.a)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(L),F=n("tVbE"),V=n("9ig3"),H=function(e,t){var n,a=Object(V.a)(t.date).valueOf();return e.set(a,[].concat(Object(B.a)(null!==(n=e.get(a))&&void 0!==n?n:[]),[t])),e};function X(e){var t=e.medicationEntries,n=e.onSelect,i=function(e){var t=e.reduce(H,new Map);return Array.from(t.entries()).sort((function(e,t){var n=Object(I.a)(e,1)[0];return Object(I.a)(t,1)[0]-n}))}(null!==t&&void 0!==t?t:[]);return null===t?Object(a.jsx)(P.a,{}):Object(a.jsx)(T.a,{children:i.map((function(e){var t=Object(I.a)(e,2),i=t[0],o=t[1];return Object(a.jsxs)(l.Fragment,{children:[Object(a.jsx)(z,{children:Object(E.a)(i,"MMMM y")}),o.map((function(e){return Object(a.jsx)(F.a,{children:Object(a.jsx)(D,{medicationEntry:e,onClick:function(t){var a=t.clientX,i=t.clientY;n({medicationEntry:e,pointerPosition:{clientX:a,clientY:i}})}})},e.id)}))]},i)}))})}var _=n("I69v"),W=n("kfFl"),G=l.forwardRef((function(e,t){var n=e.children,a=e.classes,i=e.className,o=e.disableTypography,r=void 0!==o&&o,c=Object(b.a)(e,["children","classes","className","disableTypography"]);return l.createElement("div",Object(d.a)({className:Object(m.a)(a.root,i),ref:t},c),r?n:l.createElement(x.a,{component:"h2",variant:"h6"},n))})),Y=Object(h.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(G),J=n("EQI2"),K=n("r9w1"),$=n("+JwS"),Q=n("Z3vd"),q=n("Glqu"),Z=l.forwardRef((function(e,t){var n,a=e.classes,i=e.className,o=e.component,r=void 0===o?"li":o,c=e.disableGutters,s=void 0!==c&&c,u=e.ListItemClasses,j=e.role,h=void 0===j?"menuitem":j,p=e.selected,f=e.tabIndex,v=Object(b.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==f?f:-1),l.createElement(F.a,Object(d.a)({button:!0,role:h,tabIndex:n,component:r,selected:p,disableGutters:s,classes:Object(d.a)({dense:a.dense},u),className:Object(m.a)(a.root,i,p&&a.selected,!s&&a.gutters),ref:t},v))})),U=Object(h.a)((function(e){return{root:Object(d.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(d.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(Z),ee=n("ADg1"),te=n("1AYd"),ne=n("cVXz"),ae=function(e){return Object(a.jsx)(U,{value:e,children:e},e)},ie=Object(s.a)((function(e){return{durationSelect:{display:"flex","&>*":{marginRight:e.spacing(1),"&:last-child":{marginRight:e.spacing(0)}}}}}));function oe(e){var t,n=e.value,i=e.label,o=e.max,r=e.onChange,c="".concat(i,"-label");return Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(te.a,{id:c,children:i}),Object(a.jsx)(ne.a,{labelId:c,value:n.toString(),onChange:function(e){return r(parseInt(e.target.value))},children:(t=o,Object(B.a)(Array(t).keys())).map(ae)})]})}function re(e){var t=e.value,n=t.minutes,i=t.hours,o=e.onChange,r=ie().durationSelect;return Object(a.jsxs)(g.a,{className:r,children:[Object(a.jsx)(oe,{label:"h",value:null!==i&&void 0!==i?i:0,max:23,onChange:function(e){o({minutes:n,hours:e})}}),Object(a.jsx)(oe,{value:null!==n&&void 0!==n?n:0,label:"min",max:59,onChange:function(e){o({minutes:e,hours:i})}})]})}var ce=l.forwardRef((function(e,t){return l.createElement(x.a,Object(d.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))})),le=Object(h.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(ce),se=n("PsDL"),ue=n("gd/W"),de=n("5AJ6"),be=Object(de.a)(l.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),me=n("KJax"),je=n("7Cbv"),he=Object(s.a)((function(e){return{formGroup:{"&>*":{marginTop:e.spacing(1),"&:first-child":{marginTop:"0"}}}}}));function pe(e,t){var n=!!e;return t(n),n}function fe(e){var t,n,i,o,s=e.open,u=e.medication,d=e.onClose,b=e.onSubmit,m=e.onAbort,j=Object(l.useRef)(null!==(t=null===u||void 0===u?void 0:u.id)&&void 0!==t?t:Object(je.a)()),h=Object(l.useState)(null!==(n=null===u||void 0===u?void 0:u.dose.amount.toString())&&void 0!==n?n:""),p=h[0],f=h[1],v=Object(l.useState)(!0),O=v[0],g=v[1],x=Object(l.useState)(null!==(i=null===u||void 0===u?void 0:u.medicament.name)&&void 0!==i?i:""),y=x[0],w=x[1],C=Object(l.useState)(!0),k=C[0],S=C[1],N=Object(l.useState)(null!==(o=null===u||void 0===u?void 0:u.medicament.batchNumber.number.toString())&&void 0!==o?o:""),E=N[0],M=N[1],R=Object(l.useState)(!0),D=R[0],I=R[1];Object(l.useEffect)((function(){var e,t,n,a;s&&(j.current=null!==(e=null===u||void 0===u?void 0:u.id)&&void 0!==e?e:Object(je.a)(),f(null!==(t=null===u||void 0===u?void 0:u.dose.amount.toString())&&void 0!==t?t:""),g(!0),w(null!==(n=null===u||void 0===u?void 0:u.medicament.name)&&void 0!==n?n:""),S(!0),M(null!==(a=null===u||void 0===u?void 0:u.medicament.batchNumber.number.toString())&&void 0!==a?a:""),I(!0))}),[s,u]);var B=b?Object(c.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pe(p,g),n=pe(y,S),a=pe(E,I),!(t&&n&&a)){e.next=6;break}return e.next=6,b({id:j.current,medicament:{name:y,batchNumber:{number:parseInt(E)}},dose:{amount:parseInt(p)}});case 6:case"end":return e.stop()}}),e)}))):void 0,P=he().formGroup;return Object(a.jsxs)(W.a,{open:s,onClose:function(e,t){d&&d(e,t)},children:[Object(a.jsx)(Y,{children:"Neue Medikation"}),Object(a.jsx)(J.a,{children:Object(a.jsxs)(me.a,{className:P,children:[Object(a.jsx)(K.a,{id:"nameInput",label:"Name",value:y,onChange:function(e){var t=e.target.value;return w(t)},onBlur:function(e){return pe(e.target.value,S)},onFocus:function(){return S(!0)},error:!k,helperText:!k&&"Bitte Name eingeben",variant:"outlined"}),Object(a.jsx)(K.a,{id:"batchNumberInput",label:"Chargenbezeichnung",type:"number",value:E,onChange:function(e){var t=e.target.value;return M(t)},onBlur:function(e){return pe(e.target.value,I)},onFocus:function(){return I(!0)},error:!D,helperText:!D&&"Bitte Chargenbezeichnung eingeben",variant:"outlined"}),Object(a.jsx)(K.a,{id:"doseInput",label:"Dosis",type:"number",value:p,onChange:function(e){var t=e.target.value;return f(t)},onBlur:function(e){return pe(e.target.value,g)},onFocus:function(){return g(!0)},error:!O,helperText:!O&&"Bitte Dosis eingeben",variant:"outlined"})]})}),Object(a.jsxs)($.a,{children:[Object(a.jsx)(Q.a,{color:"primary",onClick:function(){m&&m()},children:"Abbrechen"}),Object(a.jsx)(Q.a,{color:"primary",onClick:B,children:"Speichern"})]})]})}var ve=Object(s.a)((function(){return{medicationsAddContainer:{display:"flex",justifyContent:"space-between"}}}));function Oe(e){var t=e.value,n=e.onChange,i=Object(l.useState)(null),o=i[0],s=i[1],u=function(){return s(null)},d=Object(l.useState)(!1),b=d[0],m=d[1],j=function(){return m(!0)},h=function(){m(!1),u()},p=function(){return h()},f=function(){var e=Object(c.a)(r.a.mark((function e(a){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&(i=t.findIndex((function(e){return e.id===a.id})),o=-1===i?[].concat(Object(B.a)(t),[a]):[].concat(Object(B.a)(t.slice(0,i)),[a],Object(B.a)(t.slice(i+1))),n(o)),h();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=ve().medicationsAddContainer;return Object(a.jsxs)(g.a,{children:[Object(a.jsx)(le,{children:"Eintr\xe4ge"}),t.map((function(e){return Object(a.jsx)(N,{medication:e,onClick:function(t){var n=t.clientX,a=t.clientY;return s({medication:e,pointerPosition:{clientX:n,clientY:a}})}},e.id)})),Object(a.jsxs)(g.a,{className:v,children:[Object(a.jsx)("div",{}),Object(a.jsx)(se.a,{onClick:function(){u(),j()},children:Object(a.jsx)(be,{})})]}),Object(a.jsxs)(ue.a,{open:!!o,onClose:u,anchorReference:"anchorPosition",anchorPosition:o?{top:o.pointerPosition.clientY,left:o.pointerPosition.clientX}:void 0,children:[Object(a.jsx)(U,{onClick:function(){return j()},children:"Bearbeiten"}),Object(a.jsx)(U,{onClick:function(){n&&o&&n(t.filter((function(e){return e!=o.medication}))),u()},children:"L\xf6schen"})]}),Object(a.jsx)(fe,{open:b,medication:null===o||void 0===o?void 0:o.medication,onClose:p,onAbort:p,onSubmit:f})]})}var ge=Object(s.a)((function(e){return{dialogContent:{display:"flex",flexDirection:"column","&>*":{marginBottom:e.spacing(2),"&:last-child":{marginBottom:e.spacing(0)}}}}})),xe=function(){return new Date},ye={minutes:0,hours:0},we=[];function Ce(e){var t,n,i,o,s,u,d,b=e.open,m=e.medicationEntry,j=e.onClose,h=e.onSubmit,p=e.onAbort,f=Object(M.j)().user.bodyMass,v=Object(l.useRef)(null!==(t=null===m||void 0===m?void 0:m.id)&&void 0!==t?t:""),O=Object(l.useState)(null!==(n=null===m||void 0===m?void 0:m.date)&&void 0!==n?n:xe()),g=O[0],x=O[1],y=Object(l.useState)(null!==(i=null===m||void 0===m?void 0:m.duration)&&void 0!==i?i:ye),w=y[0],C=y[1],k=Object(l.useState)(null!==(o=null!==(s=null===m||void 0===m?void 0:m.bodyMass.amount.toString())&&void 0!==s?s:null===f||void 0===f?void 0:f.amount.toString())&&void 0!==o?o:"60"),S=k[0],N=k[1],E=Object(l.useState)(null!==(u=null===m||void 0===m?void 0:m.comments)&&void 0!==u?u:""),R=E[0],D=E[1],I=Object(l.useState)(null!==(d=null===m||void 0===m?void 0:m.medications)&&void 0!==d?d:we),B=I[0],P=I[1];Object(l.useEffect)((function(){var e,t,n,a,i,o,r;b&&(x(null!==(e=null===m||void 0===m?void 0:m.date)&&void 0!==e?e:xe()),C(null!==(t=null===m||void 0===m?void 0:m.duration)&&void 0!==t?t:ye),N(null!==(n=null!==(a=null===m||void 0===m?void 0:m.bodyMass.amount.toString())&&void 0!==a?a:null===f||void 0===f?void 0:f.amount.toString())&&void 0!==n?n:"60"),D(null!==(i=null===m||void 0===m?void 0:m.comments)&&void 0!==i?i:""),P(null!==(o=null===m||void 0===m?void 0:m.medications)&&void 0!==o?o:we),v.current=null!==(r=null===m||void 0===m?void 0:m.id)&&void 0!==r?r:"")}),[f,m,b]);var T=h?Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({id:v.current,date:g,duration:w,bodyMass:{amount:parseInt(S)},comments:R,medications:B});case 2:case"end":return e.stop()}}),e)}))):void 0,A=ge().dialogContent;return Object(a.jsxs)(W.a,{open:b,onClose:j,children:[Object(a.jsx)(Y,{children:m?"Eintrag bearbeiten":"Neuer Eintrag"}),Object(a.jsxs)(J.a,{className:A,children:[Object(a.jsx)(K.a,{id:"bodyMassInput",label:"K\xf6rpergewicht",type:"number",value:S,onChange:function(e){return N(e.target.value)}}),Object(a.jsx)(q.a,{id:"dateInput",label:"Datum",value:g,onChange:function(e){return x(null!==e&&void 0!==e?e:g)}}),Object(a.jsx)(re,{value:w,onChange:C}),Object(a.jsx)(K.a,{id:"commentsInput",label:"Kommentare",multiline:!0,value:R,onChange:function(e){return D(e.target.value)}}),Object(a.jsx)(Oe,{value:B,onChange:P})]}),Object(a.jsxs)($.a,{children:[Object(a.jsx)(Q.a,{color:"primary",onClick:p,children:"Abbrechen"}),Object(a.jsx)(Q.a,{color:"primary",onClick:T,children:"Speichern"})]})]})}var ke=n("Ji2X"),Se=l.forwardRef((function(e,t){var n=e.children,a=e.classes,i=e.className,o=e.color,r=void 0===o?"default":o,c=e.component,s=void 0===c?"button":c,j=e.disabled,h=void 0!==j&&j,p=e.disableFocusRipple,f=void 0!==p&&p,v=e.focusVisibleClassName,O=e.size,g=void 0===O?"large":O,x=e.variant,y=void 0===x?"circular":x,w=Object(b.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return l.createElement(u.a,Object(d.a)({className:Object(m.a)(a.root,i,"large"!==g&&a["size".concat(Object(A.a)(g))],h&&a.disabled,"extended"===y&&a.extended,{primary:a.primary,secondary:a.secondary,inherit:a.colorInherit}[r]),component:s,disabled:h,focusRipple:!f,focusVisibleClassName:Object(m.a)(a.focusVisible,v),ref:t},w),l.createElement("span",{className:a.label},n))})),Ne=Object(h.a)((function(e){return{root:Object(d.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(Se),Ee=Object(de.a)(l.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print"),Me=n("5JmO"),Re=n("TruH");Me.vfs=Re.pdfMake.vfs;var De={myLayout:{hLineWidth:function(e,t){return 0===e||e===t.table.body.length?0:e===t.table.headerRows?2:1},vLineWidth:function(e,t){var n;return 0===e||e===(null===(n=t.table.widths)||void 0===n?void 0:n.length)?0:1},paddingLeft:function(){return 8},paddingRight:function(){return 8}}},Ie=function(e){var t=e.medicament,n=t.name,a=t.batchNumber,i=e.dose;return"".concat(n," / ").concat(y(a),": ").concat(w(i))},Be=function(e){return e.map(Ie).join("\n")},Pe=function(e){var t=e.date,n=e.medications,a=e.duration,i=e.bodyMass,o=e.comments;return[Object(E.a)(t,"LLL d y"),Be(n),k(a),Object(M.g)(i),o]};var Te=n("dndX");function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e,t,n){return e.filter((function(e){var a=e.date;return function(e,t,n){return Object(Te.a)(n,t)&&Object(Te.a)(e,n)}(t,n,a)})).sort((function(e,t){var n=e.date;return t.date.valueOf()-n.valueOf()}))},Fe=Object(s.a)((function(e){return{actionButton:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},printForm:{"&>*":{marginTop:e.spacing(1),"&:first-child":{marginTop:0}}}}}));function Ve(e){var t=e.AppBar,n=Object(_.b)(),i=n.entries,o=n.deleteEntry,s=n.saveEntry,u=Object(l.useState)(null),d=u[0],b=u[1],m=Object(l.useState)(!1),j=m[0],h=m[1],p=function(){return h(!0)},f=function(){return b(null)},v=function(){h(!1),f()},O=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:v();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=4;break}return e.next=3,o(d.medicationEntry);case 3:f();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=Object(l.useState)(!1),w=y[0],C=y[1],k=Object(l.useState)({start:Object(V.a)(new Date),end:new Date}),S=k[0],N=k[1],E=i?{icon:Ee,ariaLabel:"print",onClick:function(){C(!0)}}:void 0,M=Fe(),R=M.actionButton,D=M.printForm;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(t,{title:"Medikamenten Tagebuch",rightButton:E}),Object(a.jsxs)(W.a,{open:w,onClose:function(){return C(!1)},children:[Object(a.jsx)(Y,{children:"Drucken"}),Object(a.jsxs)(J.a,{children:[Object(a.jsx)(le,{children:"Bitte w\xe4hlen Sie den Zeitraum aus."}),Object(a.jsxs)(me.a,{className:D,children:[Object(a.jsx)(q.a,{label:"Von",value:S.start,onChange:function(e){return e&&N((function(t){return Le(Le({},t),{},{start:e})}))},inputVariant:"outlined"}),Object(a.jsx)(q.a,{label:"Bis",value:S.end,onChange:function(e){return e&&N((function(t){return Le(Le({},t),{},{end:e})}))},inputVariant:"outlined"})]}),Object(a.jsxs)($.a,{children:[Object(a.jsx)(Q.a,{id:"printAbort",onClick:function(){return C(!1)},children:"Abbrechen"}),Object(a.jsx)(Q.a,{id:"printConfirm",onClick:function(){return i&&function(e){var t={content:{layout:"myLayout",table:{headerRows:1,widths:["auto","*","auto","auto","auto"],body:[["Datum","Medikation","Dauer","Gewicht","Kommentare"]].concat(Object(B.a)(e.map(Pe)))}}};return Me.createPdf(t,De)}(ze(i,S.start,S.end)).open()},children:"Drucken"})]})]})]}),Object(a.jsxs)(ke.a,{component:"main",children:[Object(a.jsx)(X,{medicationEntries:i,onSelect:function(e){return b(e)}}),Object(a.jsx)(Ce,{open:j,medicationEntry:null===d||void 0===d?void 0:d.medicationEntry,onClose:v,onAbort:v,onSubmit:O}),Object(a.jsxs)(ue.a,{open:!!d,keepMounted:!0,onClose:f,anchorReference:"anchorPosition",anchorPosition:d?{top:d.pointerPosition.clientY,left:d.pointerPosition.clientX}:void 0,children:[Object(a.jsx)(U,{onClick:x,children:"Bearbeiten"}),Object(a.jsx)(U,{onClick:g,children:"L\xf6schen"})]}),Object(a.jsx)(Ne,{color:"primary","aria-label":"addMedicationEntry",onClick:p,className:R,children:Object(a.jsx)(be,{})})]})]})}}},[["/EDR",1,2,6,7,0,3,4]]]);