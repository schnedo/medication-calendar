_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"/EDR":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t("23aj")}])},"23aj":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return Ce}));var a=t("nKUr"),i=t("o0o1"),o=t.n(i),r=t("HaE+"),c=t("q1tI"),l=t("R/WZ"),s=t("VD++"),d=t("wx14"),u=t("Ff2n"),b=(t("17x9"),t("iuhU")),m=t("kKAo"),j=t("H2TA"),h=c.forwardRef((function(e,n){var t=e.classes,a=e.className,i=e.raised,o=void 0!==i&&i,r=Object(u.a)(e,["classes","className","raised"]);return c.createElement(m.a,Object(d.a)({className:Object(b.a)(t.root,a),elevation:o?8:1,ref:n},r))})),v=Object(j.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(h),p=c.forwardRef((function(e,n){var t=e.classes,a=e.className,i=e.component,o=void 0===i?"div":i,r=Object(u.a)(e,["classes","className","component"]);return c.createElement(o,Object(d.a)({className:Object(b.a)(t.root,a),ref:n},r))})),f=Object(j.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(p),O=t("hlFM"),g=t("ofer");function x(e){return"".concat("Ch.-B."," ").concat(e.number)}function y(e){return"".concat(e.amount," ").concat("ml")}function C(e){if(void 0===e)return"00";var n=e.toString();return 1===n.length?"0".concat(n):n}function w(e){return"".concat(C(e.hours),":").concat(C(e.minutes))}var N=Object(l.a)((function(e){return{row:{display:"flex",justifyContent:"space-between"},content:{flex:"1"},trailer:{marginLeft:e.spacing(1)},container:{width:"100%",textAlign:"justify"}}}));function k(e){var n=e.medication,t=n.medicament,i=t.name,o=t.batchNumber,r=n.dose,c=e.onClick,l=N(),d=l.row,u=l.content,b=l.trailer,m=l.container;return Object(a.jsx)(s.a,{onClick:c,disableRipple:!c,className:m,children:Object(a.jsx)(v,{className:m,children:Object(a.jsxs)(f,{className:d,children:[Object(a.jsxs)(O.a,{className:u,children:[Object(a.jsx)(g.a,{children:i}),Object(a.jsx)(g.a,{color:"textSecondary",children:x(o)})]}),Object(a.jsx)(g.a,{className:b,children:y(r)})]})})})}var S=t("sWYD"),E=t("TIQQ"),I=Object(l.a)((function(e){return{container:{width:"100%"},header:{marginRight:e.spacing(1)},trailer:{marginLeft:e.spacing(1),display:"flex",flexDirection:"column",justifyContent:"space-between"},row:{display:"flex"},medicationsList:{flex:"1",display:"flex",flexDirection:"column",justifyContent:"space-between","&>*":{marginBottom:e.spacing(1),"&:last-child":{marginBottom:0}}}}}));function R(e){var n=e.medicationEntry,t=n.date,i=n.medications,o=n.comments,r=n.duration,c=n.bodyMass,l=e.onClick,d=I(),u=d.container,b=d.medicationsList,m=d.row,j=d.header,h=d.trailer;return Object(a.jsx)(s.a,{onClick:l,className:u,disableRipple:!l,children:Object(a.jsx)(v,{className:u,children:Object(a.jsxs)(f,{className:m,children:[Object(a.jsx)(g.a,{className:j,children:Object(S.a)(t,"EEEEEE dd")}),Object(a.jsxs)(O.a,{className:b,children:[i.map((function(e){return Object(a.jsx)(k,{medication:e},e.id)})),Object(a.jsx)(g.a,{align:"left",children:o})]}),Object(a.jsxs)(O.a,{className:h,children:[Object(a.jsx)(g.a,{children:w(r)}),Object(a.jsx)(g.a,{children:Object(E.g)(c)})]})]})})})}var B=t("iae6"),M=Object(l.a)((function(e){return{container:{"&>*":{marginBottom:e.spacing(1),"&:last-child":{marginBottom:0}}}}}));function A(e){var n=e.medicationEntries,t=e.onSelect,i=M().container;return null===n?Object(a.jsx)(B.a,{}):Object(a.jsx)(O.a,{className:i,children:n.map((function(e){return Object(a.jsx)(R,{medicationEntry:e,onClick:function(n){var a=n.clientX,i=n.clientY;t({medicationEntry:e,pointerPosition:{clientX:a,clientY:i}})}},e.id)}))})}var D=t("I69v"),T=t("kfFl"),P=c.forwardRef((function(e,n){var t=e.children,a=e.classes,i=e.className,o=e.disableTypography,r=void 0!==o&&o,l=Object(u.a)(e,["children","classes","className","disableTypography"]);return c.createElement("div",Object(d.a)({className:Object(b.a)(a.root,i),ref:n},l),r?t:c.createElement(g.a,{component:"h2",variant:"h6"},t))})),z=Object(j.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(P),_=t("EQI2"),F=t("r9w1"),V=t("+JwS"),X=t("Z3vd"),L=t("Glqu"),H=t("KQm4"),Y=t("rePB"),W=t("tVbE"),J=c.forwardRef((function(e,n){var t,a=e.classes,i=e.className,o=e.component,r=void 0===o?"li":o,l=e.disableGutters,s=void 0!==l&&l,m=e.ListItemClasses,j=e.role,h=void 0===j?"menuitem":j,v=e.selected,p=e.tabIndex,f=Object(u.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(t=void 0!==p?p:-1),c.createElement(W.a,Object(d.a)({button:!0,role:h,tabIndex:t,component:r,selected:v,disableGutters:s,classes:Object(d.a)({dense:a.dense},m),className:Object(b.a)(a.root,i,v&&a.selected,!s&&a.gutters),ref:n},f))})),K=Object(j.a)((function(e){return{root:Object(d.a)({},e.typography.body1,Object(Y.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(d.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(J),$=t("ADg1"),G=t("1AYd"),Q=t("cVXz"),q=function(e){return Object(a.jsx)(K,{value:e,children:e},e)},U=Object(l.a)((function(e){return{durationSelect:{display:"flex","&>*":{marginRight:e.spacing(1),"&:last-child":{marginRight:e.spacing(0)}}}}}));function Z(e){var n,t=e.value,i=e.label,o=e.max,r=e.onChange,c="".concat(i,"-label");return Object(a.jsxs)($.a,{children:[Object(a.jsx)(G.a,{id:c,children:i}),Object(a.jsx)(Q.a,{labelId:c,value:t.toString(),onChange:function(e){return r(parseInt(e.target.value))},children:(n=o,Object(H.a)(Array(n).keys())).map(q)})]})}function ee(e){var n=e.value,t=n.minutes,i=n.hours,o=e.onChange,r=U().durationSelect;return Object(a.jsxs)(O.a,{className:r,children:[Object(a.jsx)(Z,{label:"h",value:null!==i&&void 0!==i?i:0,max:23,onChange:function(e){o({minutes:t,hours:e})}}),Object(a.jsx)(Z,{value:null!==t&&void 0!==t?t:0,label:"min",max:59,onChange:function(e){o({minutes:e,hours:i})}})]})}var ne=c.forwardRef((function(e,n){return c.createElement(g.a,Object(d.a)({component:"p",variant:"body1",color:"textSecondary",ref:n},e))})),te=Object(j.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(ne),ae=t("PsDL"),ie=t("gd/W"),oe=t("5AJ6"),re=Object(oe.a)(c.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),ce=t("KJax"),le=t("7Cbv");function se(e,n){var t=!!e;return n(t),t}function de(e){var n,t,i,l,s=e.open,d=e.medication,u=e.onClose,b=e.onSubmit,m=e.onAbort,j=Object(c.useRef)(null!==(n=null===d||void 0===d?void 0:d.id)&&void 0!==n?n:Object(le.a)()),h=Object(c.useState)(null!==(t=null===d||void 0===d?void 0:d.dose.amount.toString())&&void 0!==t?t:""),v=h[0],p=h[1],f=Object(c.useState)(!0),O=f[0],g=f[1],x=Object(c.useState)(null!==(i=null===d||void 0===d?void 0:d.medicament.name)&&void 0!==i?i:""),y=x[0],C=x[1],w=Object(c.useState)(!0),N=w[0],k=w[1],S=Object(c.useState)(null!==(l=null===d||void 0===d?void 0:d.medicament.batchNumber.number.toString())&&void 0!==l?l:""),E=S[0],I=S[1],R=Object(c.useState)(!0),B=R[0],M=R[1];Object(c.useEffect)((function(){if(s){!function(){var e,n,t;p(null!==(e=null===d||void 0===d?void 0:d.dose.amount.toString())&&void 0!==e?e:""),g(!0),C(null!==(n=null===d||void 0===d?void 0:d.medicament.name)&&void 0!==n?n:""),k(!0),I(null!==(t=null===d||void 0===d?void 0:d.medicament.batchNumber.number.toString())&&void 0!==t?t:""),M(!0)}()}}),[s,d]);var A=b?Object(r.a)(o.a.mark((function e(){var n,t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=se(v,g),t=se(y,k),a=se(E,M),!(n&&t&&a)){e.next=6;break}return e.next=6,b({id:j.current,medicament:{name:y,batchNumber:{number:parseInt(E)}},dose:{amount:parseInt(v)}});case 6:case"end":return e.stop()}}),e)}))):void 0;return Object(a.jsxs)(T.a,{open:s,onClose:function(e,n){u&&u(e,n)},children:[Object(a.jsx)(z,{children:"Neue Medikation"}),Object(a.jsx)(_.a,{children:Object(a.jsxs)(ce.a,{children:[Object(a.jsx)(F.a,{id:"doseInput",label:"Dosis",type:"number",value:v,onChange:function(e){var n=e.target.value;return p(n)},onBlur:function(e){return se(e.target.value,g)},onFocus:function(){return g(!0)},error:!O,helperText:!O&&"Bitte Dosis eingeben"}),Object(a.jsx)(F.a,{id:"nameInput",label:"Name",value:y,onChange:function(e){var n=e.target.value;return C(n)},onBlur:function(e){return se(e.target.value,k)},onFocus:function(){return k(!0)},error:!N,helperText:!N&&"Bitte Name eingeben"}),Object(a.jsx)(F.a,{id:"batchNumberInput",label:"Chargenbezeichnung",type:"number",value:E,onChange:function(e){var n=e.target.value;return I(n)},onBlur:function(e){return se(e.target.value,M)},onFocus:function(){return M(!0)},error:!B,helperText:!B&&"Bitte Chargenbezeichnung eingeben"})]})}),Object(a.jsxs)(V.a,{children:[Object(a.jsx)(X.a,{color:"primary",onClick:function(){m&&m()},children:"Abbrechen"}),Object(a.jsx)(X.a,{color:"primary",onClick:A,children:"Speichern"})]})]})}var ue=Object(l.a)((function(){return{medicationsAddContainer:{display:"flex",justifyContent:"space-between"}}}));function be(e){var n=e.value,t=e.onChange,i=Object(c.useState)(null),l=i[0],s=i[1],d=function(){return s(null)},u=Object(c.useState)(!1),b=u[0],m=u[1],j=function(){return m(!0)},h=function(){m(!1),d()},v=function(){return h()},p=function(){var e=Object(r.a)(o.a.mark((function e(a){var i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(i=n.findIndex((function(e){return e.id===a.id})),r=-1===i?[].concat(Object(H.a)(n),[a]):[].concat(Object(H.a)(n.slice(0,i)),[a],Object(H.a)(n.slice(i+1))),t(r)),h();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=ue().medicationsAddContainer;return Object(a.jsxs)(O.a,{children:[Object(a.jsx)(te,{children:"Eintr\xe4ge"}),n.map((function(e){return Object(a.jsx)(k,{medication:e,onClick:function(n){var t=n.clientX,a=n.clientY;return s({medication:e,pointerPosition:{clientX:t,clientY:a}})}},e.id)})),Object(a.jsxs)(O.a,{className:f,children:[Object(a.jsx)("div",{}),Object(a.jsx)(ae.a,{onClick:function(){d(),j()},children:Object(a.jsx)(re,{})})]}),Object(a.jsxs)(ie.a,{open:!!l,onClose:d,anchorReference:"anchorPosition",anchorPosition:l?{top:l.pointerPosition.clientY,left:l.pointerPosition.clientX}:void 0,children:[Object(a.jsx)(K,{onClick:function(){return j()},children:"Bearbeiten"}),Object(a.jsx)(K,{onClick:function(){t&&l&&t(n.filter((function(e){return e!=l.medication}))),d()},children:"L\xf6schen"})]}),Object(a.jsx)(de,{open:b,medication:null===l||void 0===l?void 0:l.medication,onClose:v,onAbort:v,onSubmit:p})]})}var me=Object(l.a)((function(e){return{dialogContent:{display:"flex",flexDirection:"column","&>*":{marginBottom:e.spacing(2),"&:last-child":{marginBottom:e.spacing(0)}}}}})),je=function(){return new Date},he={minutes:0,hours:0},ve=[];function pe(e){var n,t,i,l,s,d,u,b=e.open,m=e.medicationEntry,j=e.onClose,h=e.onSubmit,v=e.onAbort,p=Object(E.j)().user.bodyMass,f=Object(c.useRef)(null!==(n=null===m||void 0===m?void 0:m.id)&&void 0!==n?n:""),O=Object(c.useState)(null!==(t=null===m||void 0===m?void 0:m.date)&&void 0!==t?t:je()),g=O[0],x=O[1],y=Object(c.useState)(null!==(i=null===m||void 0===m?void 0:m.duration)&&void 0!==i?i:he),C=y[0],w=y[1],N=Object(c.useState)(null!==(l=null!==(s=null===m||void 0===m?void 0:m.bodyMass.amount.toString())&&void 0!==s?s:null===p||void 0===p?void 0:p.amount.toString())&&void 0!==l?l:"60"),k=N[0],S=N[1],I=Object(c.useState)(null!==(d=null===m||void 0===m?void 0:m.comments)&&void 0!==d?d:""),R=I[0],B=I[1],M=Object(c.useState)(null!==(u=null===m||void 0===m?void 0:m.medications)&&void 0!==u?u:ve),A=M[0],D=M[1];Object(c.useEffect)((function(){var e,n,t,a,i,o,r;b&&(x(null!==(e=null===m||void 0===m?void 0:m.date)&&void 0!==e?e:je()),w(null!==(n=null===m||void 0===m?void 0:m.duration)&&void 0!==n?n:he),S(null!==(t=null!==(a=null===m||void 0===m?void 0:m.bodyMass.amount.toString())&&void 0!==a?a:null===p||void 0===p?void 0:p.amount.toString())&&void 0!==t?t:"60"),B(null!==(i=null===m||void 0===m?void 0:m.comments)&&void 0!==i?i:""),D(null!==(o=null===m||void 0===m?void 0:m.medications)&&void 0!==o?o:ve),f.current=null!==(r=null===m||void 0===m?void 0:m.id)&&void 0!==r?r:"")}),[p,m,b]);var P=h?Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({id:f.current,date:g,duration:C,bodyMass:{amount:parseInt(k)},comments:R,medications:A});case 2:case"end":return e.stop()}}),e)}))):void 0,H=me().dialogContent;return Object(a.jsxs)(T.a,{open:b,onClose:j,children:[Object(a.jsx)(z,{children:m?"Eintrag bearbeiten":"Neuer Eintrag"}),Object(a.jsxs)(_.a,{className:H,children:[Object(a.jsx)(F.a,{id:"bodyMassInput",label:"K\xf6rpergewicht",type:"number",value:k,onChange:function(e){return S(e.target.value)}}),Object(a.jsx)(L.a,{id:"dateInput",label:"Datum",value:g,onChange:function(e){return x(null!==e&&void 0!==e?e:g)}}),Object(a.jsx)(ee,{value:C,onChange:w}),Object(a.jsx)(F.a,{id:"commentsInput",label:"Kommentare",multiline:!0,value:R,onChange:function(e){return B(e.target.value)}}),Object(a.jsx)(be,{value:A,onChange:D})]}),Object(a.jsxs)(V.a,{children:[Object(a.jsx)(X.a,{color:"primary",onClick:v,children:"Abbrechen"}),Object(a.jsx)(X.a,{color:"primary",onClick:P,children:"Speichern"})]})]})}var fe=t("Ji2X"),Oe=t("NqtD"),ge=c.forwardRef((function(e,n){var t=e.children,a=e.classes,i=e.className,o=e.color,r=void 0===o?"default":o,l=e.component,m=void 0===l?"button":l,j=e.disabled,h=void 0!==j&&j,v=e.disableFocusRipple,p=void 0!==v&&v,f=e.focusVisibleClassName,O=e.size,g=void 0===O?"large":O,x=e.variant,y=void 0===x?"round":x,C=Object(u.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return c.createElement(s.a,Object(d.a)({className:Object(b.a)(a.root,i,"round"!==y&&a.extended,"large"!==g&&a["size".concat(Object(Oe.a)(g))],h&&a.disabled,{primary:a.primary,secondary:a.secondary,inherit:a.colorInherit}[r]),component:m,disabled:h,focusRipple:!p,focusVisibleClassName:Object(b.a)(a.focusVisible,f),ref:n},C),c.createElement("span",{className:a.label},t))})),xe=Object(j.a)((function(e){return{root:Object(d.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(ge),ye=Object(l.a)((function(e){return{actionButton:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function Ce(e){var n=e.AppBar,t=Object(D.b)(),i=t.entries,l=t.deleteEntry,s=t.saveEntry,d=Object(c.useState)(null),u=d[0],b=d[1],m=Object(c.useState)(!1),j=m[0],h=m[1],v=function(){return h(!0)},p=function(){return b(null)},f=function(){h(!1),p()},O=function(){var e=Object(r.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:f();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=4;break}return e.next=3,l(u.medicationEntry);case 3:p();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=ye().actionButton;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(n,{title:"Medikamenten Tagebuch"}),Object(a.jsxs)(fe.a,{component:"main",children:[Object(a.jsx)(A,{medicationEntries:i,onSelect:function(e){return b(e)}}),Object(a.jsx)(pe,{open:j,medicationEntry:null===u||void 0===u?void 0:u.medicationEntry,onClose:f,onAbort:f,onSubmit:O}),Object(a.jsxs)(ie.a,{open:!!u,keepMounted:!0,onClose:p,anchorReference:"anchorPosition",anchorPosition:u?{top:u.pointerPosition.clientY,left:u.pointerPosition.clientX}:void 0,children:[Object(a.jsx)(K,{onClick:x,children:"Bearbeiten"}),Object(a.jsx)(K,{onClick:g,children:"L\xf6schen"})]}),Object(a.jsx)(xe,{color:"primary","aria-label":"addMedicationEntry",onClick:v,className:y,children:Object(a.jsx)(re,{})})]})]})}}},[["/EDR",1,2,0,3,4]]]);